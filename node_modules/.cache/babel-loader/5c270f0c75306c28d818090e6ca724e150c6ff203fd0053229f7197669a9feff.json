{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\Desarrollo Web\\\\SistemaDeGestionReact-main\\\\src\\\\Components\\\\Login\\\\Login.tsx\",\n  _s = $RefreshSig$();\nimport { Box, TextField, Paper, Grid, FormControl, Button } from \"@mui/material\";\nimport React, { useRef, useState, useContext, useEffect } from \"react\";\nimport { DataContext } from \"../Context/ContextProvider\";\nimport Incorrect from \"./Incorrect\";\nimport Warning from \"./Warning\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst style = {\n  container: {\n    height: \"100%\",\n    display: \"flex\",\n    backgroundImage: \"url(https://enerbit.co/img/mainLogo.bea5a270.svg)\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    margin: 0,\n    width: \"100%\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"100% 25%\"\n  },\n  gridItem: {\n    width: \"100%\",\n    gap: \"1rem\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  responsive: {\n    display: \"flex\",\n    width: \"90%\",\n    flexDirection: \"column\",\n    padding: \"1rem\",\n    \"@media (min-width:960px)\": {\n      width: \"50%\"\n    }\n  }\n};\nexport default function Login() {\n  _s();\n  const {\n    verify,\n    openSesion,\n    ValidateSesion\n  } = useContext(DataContext);\n  const refForm = useRef();\n  const [noError_1, setNoError_1] = useState(true);\n  const [noError_2, setNoError_2] = useState(true);\n  const [openWarning, setOpenWarning] = useState(false);\n  const [openIncorrect, setOpenIncorrect] = useState(false);\n  useEffect(() => {\n    if (ValidateSesion()) {\n      setTimeout(() => {\n        window.location.assign(\"/admin\");\n      }, 1000);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleClick = evt => {\n    evt.preventDefault();\n    if (noError_1 && noError_2) {\n      const inputData = Array.from(refForm === null || refForm === void 0 ? void 0 : refForm.current.querySelectorAll(\"input\")).map(x => x.value);\n      if (inputData[0] === \"\" || inputData[1] === \"\") {\n        handleWarning();\n      } else {\n        verify({\n          username: inputData[0],\n          password: inputData[1]\n        }) ? openSesion({\n          username: inputData[0],\n          password: inputData[1]\n        }) : incorrect();\n      }\n    } else {\n      handleWarning();\n    }\n  };\n  const incorrect = () => {\n    setOpenIncorrect(prev => true);\n    setTimeout(() => {\n      setOpenIncorrect(prev => false);\n    }, 5000);\n  };\n  const handleWarning = () => {\n    setOpenWarning(prev => true);\n    setTimeout(() => {\n      setOpenWarning(prev => false);\n    }, 5000);\n  };\n  const isEmpty = () => {\n    const inputData = Array.from(refForm === null || refForm === void 0 ? void 0 : refForm.current.querySelectorAll(\"input\")).map(x => x.value);\n    return [inputData[0] !== \"\", inputData[1] !== \"\"];\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      ...style.container\n    },\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      component: Paper,\n      elevation: 12,\n      sx: {\n        ...style.responsive\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        component: FormControl,\n        sx: {\n          ...style.gridItem\n        },\n        item: true,\n        xs: 12,\n        ref: refForm,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          error: !noError_1,\n          onBlur: () => {\n            const empty = isEmpty();\n            empty[0] ? setNoError_1(prev => true) : setNoError_1(prev => false);\n          },\n          helperText: !noError_1 ? \"Este campo es obligatorio\" : \"\",\n          onFocus: () => {\n            setNoError_1(prev => true);\n          },\n          required: true,\n          fullWidth: true,\n          label: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          error: !noError_2,\n          onBlur: () => {\n            const empty = isEmpty();\n            empty[1] ? setNoError_2(prev => true) : setNoError_2(prev => false);\n          },\n          onFocus: () => {\n            setNoError_2(prev => true);\n          },\n          helperText: !noError_2 ? \"Este campo es obligatorio\" : \"\",\n          required: true,\n          fullWidth: true,\n          label: \"Password\",\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClick,\n          variant: \"contained\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Warning, {\n      openWarning: openWarning\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Incorrect, {\n      openIncorrect: openIncorrect,\n      inputRef: refForm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 3\n  }, this);\n}\n_s(Login, \"DuJJwkWQQ6e/Gc+Hy5Nd4W9iVnE=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Box","TextField","Paper","Grid","FormControl","Button","React","useRef","useState","useContext","useEffect","DataContext","Incorrect","Warning","style","container","height","display","backgroundImage","justifyContent","alignItems","margin","width","backgroundRepeat","backgroundSize","gridItem","gap","flexDirection","responsive","padding","Login","verify","openSesion","ValidateSesion","refForm","noError_1","setNoError_1","noError_2","setNoError_2","openWarning","setOpenWarning","openIncorrect","setOpenIncorrect","setTimeout","window","location","assign","handleClick","evt","preventDefault","inputData","Array","from","current","querySelectorAll","map","x","value","handleWarning","username","password","incorrect","prev","isEmpty","empty"],"sources":["D:/Documents/Desarrollo Web/SistemaDeGestionReact-main/src/Components/Login/Login.tsx"],"sourcesContent":["import {\n\tBox,\n\tSxProps,\n\tTextField,\n\tPaper,\n\tGrid,\n\tFormControl,\n\tButton,\n} from \"@mui/material\"\n\nimport React, {MouseEvent, useRef, useState, useContext, useEffect} from \"react\"\nimport {DataContext} from \"../Context/ContextProvider\"\nimport Incorrect from \"./Incorrect\"\nimport Warning from \"./Warning\"\n\ninterface loginStyle {\n\tcontainer: SxProps\n\tgridItem: SxProps\n\tresponsive: SxProps\n}\nconst style: loginStyle = {\n\tcontainer: {\n\t\theight: \"100%\",\n\t\tdisplay: \"flex\",\n\t\tbackgroundImage: \"url(https://enerbit.co/img/mainLogo.bea5a270.svg)\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tmargin: 0,\n\t\twidth: \"100%\",\n\t\tbackgroundRepeat: \"no-repeat\",\n\t\tbackgroundSize: \"100% 25%\",\n\t},\n\tgridItem: {\n\t\twidth: \"100%\",\n\t\tgap: \"1rem\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tresponsive: {\n\t\tdisplay: \"flex\",\n\t\twidth: \"90%\",\n\t\tflexDirection: \"column\",\n\t\tpadding: \"1rem\",\n\t\t\"@media (min-width:960px)\": {width: \"50%\"},\n\t},\n}\nexport default function Login() {\n\tconst {verify, openSesion, ValidateSesion} = useContext(DataContext)\n\n\tconst refForm = useRef() as React.MutableRefObject<HTMLDivElement>\n\n\tconst [noError_1, setNoError_1] = useState(true)\n\tconst [noError_2, setNoError_2] = useState(true)\n\tconst [openWarning, setOpenWarning] = useState(false)\n\tconst [openIncorrect, setOpenIncorrect] = useState(false)\n\n\tuseEffect(() => {\n\t\tif (ValidateSesion()) {\n\t\t\tsetTimeout(() => {\n\t\t\t\twindow.location.assign(\"/admin\")\n\t\t\t}, 1000)\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst handleClick = (evt: MouseEvent<HTMLButtonElement>) => {\n\t\tevt.preventDefault()\n\n\t\tif (noError_1 && noError_2) {\n\t\t\tconst inputData = Array.from(\n\t\t\t\trefForm?.current.querySelectorAll(\"input\")\n\t\t\t).map((x) => x.value)\n\n\t\t\tif (inputData[0] === \"\" || inputData[1] === \"\") {\n\t\t\t\thandleWarning()\n\t\t\t} else {\n\t\t\t\tverify({username: inputData[0], password: inputData[1]})\n\t\t\t\t\t? openSesion({username: inputData[0], password: inputData[1]})\n\t\t\t\t\t: incorrect()\n\t\t\t}\n\t\t} else {\n\t\t\thandleWarning()\n\t\t}\n\t}\n\n\tconst incorrect = () => {\n\t\tsetOpenIncorrect((prev) => true)\n\t\tsetTimeout(() => {\n\t\t\tsetOpenIncorrect((prev) => false)\n\t\t}, 5000)\n\t}\n\n\tconst handleWarning = () => {\n\t\tsetOpenWarning((prev) => true)\n\t\tsetTimeout(() => {\n\t\t\tsetOpenWarning((prev) => false)\n\t\t}, 5000)\n\t}\n\n\tconst isEmpty = (): [boolean, boolean] => {\n\t\tconst inputData = Array.from(\n\t\t\trefForm?.current.querySelectorAll(\"input\")\n\t\t).map((x) => x.value)\n\n\t\treturn [inputData[0] !== \"\", inputData[1] !== \"\"]\n\t}\n\n\treturn (\n\t\t<Box sx={{...style.container}}>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tcomponent={Paper}\n\t\t\t\televation={12}\n\t\t\t\tsx={{...style.responsive}}\n\t\t\t>\n\t\t\t\t<Grid\n\t\t\t\t\tcomponent={FormControl}\n\t\t\t\t\tsx={{...style.gridItem}}\n\t\t\t\t\titem\n\t\t\t\t\txs={12}\n\t\t\t\t\tref={refForm}\n\t\t\t\t>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\terror={!noError_1}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tconst empty = isEmpty()\n\t\t\t\t\t\t\tempty[0]\n\t\t\t\t\t\t\t\t? setNoError_1((prev) => true)\n\t\t\t\t\t\t\t\t: setNoError_1((prev) => false)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thelperText={!noError_1 ? \"Este campo es obligatorio\" : \"\"}\n\t\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\t\tsetNoError_1((prev) => true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={\"Username\"}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\terror={!noError_2}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tconst empty = isEmpty()\n\t\t\t\t\t\t\tempty[1]\n\t\t\t\t\t\t\t\t? setNoError_2((prev) => true)\n\t\t\t\t\t\t\t\t: setNoError_2((prev) => false)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\t\tsetNoError_2((prev) => true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thelperText={!noError_2 ? \"Este campo es obligatorio\" : \"\"}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={\"Password\"}\n\t\t\t\t\t\ttype={\"password\"}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button onClick={handleClick} variant=\"contained\">\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Warning openWarning={openWarning} />\n\t\t\t<Incorrect openIncorrect={openIncorrect} inputRef={refForm} />\n\t\t</Box>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}