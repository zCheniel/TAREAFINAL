{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\Desarrollo Web\\\\SistemaDeGestionReact-main\\\\src\\\\Components\\\\Administration\\\\DataAdministration\\\\DeleteModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Modal, Typography, Button, Box } from \"@mui/material\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst style = {\n  subModalStyle: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"80%\",\n    bgcolor: \"white\",\n    border: \"2px solid #000\",\n    boxShadow: 24,\n    p: 4,\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"30%\",\n    gap: \"1rem\",\n    overflow: \"hidden\",\n    justifyContent: \"space-between\"\n  }\n};\nfunction DeleteModal(props) {\n  _s();\n  const {\n    id,\n    willDelete,\n    setWillDeleteFalse,\n    setEditFalse,\n    setOpenInfoFalse,\n    setNeedUpdate\n  } = props;\n  const [deleting, setDeleting] = useState(false);\n  const handleNo = () => {\n    setWillDeleteFalse();\n    setDeleting(prev => false);\n  };\n  const handleYes = () => {\n    if (setEditFalse !== undefined) {\n      setEditFalse();\n    }\n    if (setOpenInfoFalse !== undefined) {\n      setOpenInfoFalse();\n    }\n    setDeleting(prev => true);\n  };\n\n  // useEffect(() => {\n  // \tsetNeedUpdate((prev) => !prev)\n  // \tconsole.log(\"deleting: \", id)\n  // }, [deleting])\n\n  const deleteRequest = async () => {\n    try {\n      const {\n        status\n      } = await axios.delete(`https://ops.enerbit.dev/learning/api/v1/meters/${id}`);\n      if (status === 202) {\n        setNeedUpdate();\n      }\n      setWillDeleteFalse();\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  useEffect(() => {\n    if (willDelete) {\n      deleteRequest();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [deleting]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    hideBackdrop: true,\n    sx: {\n      height: \"auto\"\n    },\n    open: willDelete,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        ...style.subModalStyle,\n        width: \"20vw\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          fontFamily: \"Tauri, sans-serif\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          height: \"80%\"\n        },\n        children: \"\\xBFEst\\xE1 seguro de que desea borrar este elemento?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleYes,\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"error\",\n          onClick: handleNo,\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 3\n  }, this);\n}\n_s(DeleteModal, \"b9HgKu0RI+fUhuW9vdtvYp9luJo=\");\n_c = DeleteModal;\nexport default DeleteModal;\nvar _c;\n$RefreshReg$(_c, \"DeleteModal\");","map":{"version":3,"names":["React","useEffect","useState","Modal","Typography","Button","Box","axios","style","subModalStyle","position","top","left","transform","width","bgcolor","border","boxShadow","p","display","flexDirection","height","gap","overflow","justifyContent","DeleteModal","props","id","willDelete","setWillDeleteFalse","setEditFalse","setOpenInfoFalse","setNeedUpdate","deleting","setDeleting","handleNo","prev","handleYes","undefined","deleteRequest","status","delete","e","console","log","fontFamily","alignItems"],"sources":["D:/Documents/Desarrollo Web/SistemaDeGestionReact-main/src/Components/Administration/DataAdministration/DeleteModal.tsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\"\n\nimport {Modal, Typography, Button, Box, SxProps} from \"@mui/material\"\nimport axios from \"axios\"\n\ninterface Props {\n\tid: number\n\twillDelete: boolean\n\tsetWillDeleteFalse: () => void\n\n\tsetNeedUpdate: () => void\n\tsetEditFalse?: () => void\n\tsetOpenInfoFalse?: () => void\n}\n\ninterface modalInfoStyles {\n\tsubModalStyle: SxProps\n}\n\nconst style: modalInfoStyles = {\n\tsubModalStyle: {\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\twidth: \"80%\",\n\t\tbgcolor: \"white\",\n\t\tborder: \"2px solid #000\",\n\t\tboxShadow: 24,\n\t\tp: 4,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"30%\",\n\t\tgap: \"1rem\",\n\t\toverflow: \"hidden\",\n\t\tjustifyContent: \"space-between\",\n\t},\n}\n\nfunction DeleteModal(props: Props) {\n\tconst {\n\t\tid,\n\t\twillDelete,\n\t\tsetWillDeleteFalse,\n\t\tsetEditFalse,\n\t\tsetOpenInfoFalse,\n\t\tsetNeedUpdate,\n\t} = props\n\n\tconst [deleting, setDeleting] = useState<boolean>(false)\n\n\tconst handleNo = () => {\n\t\tsetWillDeleteFalse()\n\t\tsetDeleting((prev) => false)\n\t}\n\n\tconst handleYes = () => {\n\t\tif (setEditFalse !== undefined) {\n\t\t\tsetEditFalse()\n\t\t}\n\t\tif (setOpenInfoFalse !== undefined) {\n\t\t\tsetOpenInfoFalse()\n\t\t}\n\t\tsetDeleting((prev) => true)\n\t}\n\n\t// useEffect(() => {\n\t// \tsetNeedUpdate((prev) => !prev)\n\t// \tconsole.log(\"deleting: \", id)\n\t// }, [deleting])\n\n\tconst deleteRequest = async () => {\n\t\ttry {\n\t\t\tconst {status} = await axios.delete(\n\t\t\t\t`https://ops.enerbit.dev/learning/api/v1/meters/${id}`\n\t\t\t)\n\n\t\t\tif (status === 202) {\n\t\t\t\tsetNeedUpdate()\n\t\t\t}\n\t\t\tsetWillDeleteFalse()\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (willDelete) {\n\t\t\tdeleteRequest()\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [deleting])\n\n\treturn (\n\t\t<Modal hideBackdrop sx={{height: \"auto\"}} open={willDelete}>\n\t\t\t<Box sx={{...style.subModalStyle, width: \"20vw\"}}>\n\t\t\t\t<Typography\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tfontFamily: \"Tauri, sans-serif\",\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\theight: \"80%\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t¿Está seguro de que desea borrar este elemento?\n\t\t\t\t</Typography>\n\t\t\t\t<Box>\n\t\t\t\t\t<Button onClick={handleYes}>Yes</Button>\n\t\t\t\t\t<Button color=\"error\" onClick={handleNo}>\n\t\t\t\t\t\tNo\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Modal>\n\t)\n}\n\nexport default DeleteModal\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAEhD,SAAQC,KAAK,EAAEC,UAAU,EAAEC,MAAM,EAAEC,GAAG,QAAgB,eAAe;AACrE,OAAOC,KAAK,MAAM,OAAO;AAAA;AAgBzB,MAAMC,KAAsB,GAAG;EAC9BC,aAAa,EAAE;IACdC,QAAQ,EAAE,UAAU;IACpBC,GAAG,EAAE,KAAK;IACVC,IAAI,EAAE,KAAK;IACXC,SAAS,EAAE,uBAAuB;IAClCC,KAAK,EAAE,KAAK;IACZC,OAAO,EAAE,OAAO;IAChBC,MAAM,EAAE,gBAAgB;IACxBC,SAAS,EAAE,EAAE;IACbC,CAAC,EAAE,CAAC;IACJC,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,MAAM,EAAE,KAAK;IACbC,GAAG,EAAE,MAAM;IACXC,QAAQ,EAAE,QAAQ;IAClBC,cAAc,EAAE;EACjB;AACD,CAAC;AAED,SAASC,WAAW,CAACC,KAAY,EAAE;EAAA;EAClC,MAAM;IACLC,EAAE;IACFC,UAAU;IACVC,kBAAkB;IAClBC,YAAY;IACZC,gBAAgB;IAChBC;EACD,CAAC,GAAGN,KAAK;EAET,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGhC,QAAQ,CAAU,KAAK,CAAC;EAExD,MAAMiC,QAAQ,GAAG,MAAM;IACtBN,kBAAkB,EAAE;IACpBK,WAAW,CAAEE,IAAI,IAAK,KAAK,CAAC;EAC7B,CAAC;EAED,MAAMC,SAAS,GAAG,MAAM;IACvB,IAAIP,YAAY,KAAKQ,SAAS,EAAE;MAC/BR,YAAY,EAAE;IACf;IACA,IAAIC,gBAAgB,KAAKO,SAAS,EAAE;MACnCP,gBAAgB,EAAE;IACnB;IACAG,WAAW,CAAEE,IAAI,IAAK,IAAI,CAAC;EAC5B,CAAC;;EAED;EACA;EACA;EACA;;EAEA,MAAMG,aAAa,GAAG,YAAY;IACjC,IAAI;MACH,MAAM;QAACC;MAAM,CAAC,GAAG,MAAMjC,KAAK,CAACkC,MAAM,CACjC,kDAAiDd,EAAG,EAAC,CACtD;MAED,IAAIa,MAAM,KAAK,GAAG,EAAE;QACnBR,aAAa,EAAE;MAChB;MACAH,kBAAkB,EAAE;IACrB,CAAC,CAAC,OAAOa,CAAC,EAAE;MACXC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IACf;EACD,CAAC;EAEDzC,SAAS,CAAC,MAAM;IACf,IAAI2B,UAAU,EAAE;MACfW,aAAa,EAAE;IAChB;IACA;EACD,CAAC,EAAE,CAACN,QAAQ,CAAC,CAAC;EAEd,oBACC,QAAC,KAAK;IAAC,YAAY;IAAC,EAAE,EAAE;MAACZ,MAAM,EAAE;IAAM,CAAE;IAAC,IAAI,EAAEO,UAAW;IAAA,uBAC1D,QAAC,GAAG;MAAC,EAAE,EAAE;QAAC,GAAGpB,KAAK,CAACC,aAAa;QAAEK,KAAK,EAAE;MAAM,CAAE;MAAA,wBAChD,QAAC,UAAU;QACV,EAAE,EAAE;UACH+B,UAAU,EAAE,mBAAmB;UAC/B1B,OAAO,EAAE,MAAM;UACfK,cAAc,EAAE,QAAQ;UACxBsB,UAAU,EAAE,QAAQ;UACpBzB,MAAM,EAAE;QACT,CAAE;QAAA,UACF;MAED;QAAA;QAAA;QAAA;MAAA,QAAa,eACb,QAAC,GAAG;QAAA,wBACH,QAAC,MAAM;UAAC,OAAO,EAAEgB,SAAU;UAAA,UAAC;QAAG;UAAA;UAAA;UAAA;QAAA,QAAS,eACxC,QAAC,MAAM;UAAC,KAAK,EAAC,OAAO;UAAC,OAAO,EAAEF,QAAS;UAAA,UAAC;QAEzC;UAAA;UAAA;UAAA;QAAA,QAAS;MAAA;QAAA;QAAA;QAAA;MAAA,QACJ;IAAA;MAAA;MAAA;MAAA;IAAA;EACD;IAAA;IAAA;IAAA;EAAA,QACC;AAEV;AAAC,GA7EQV,WAAW;AAAA,KAAXA,WAAW;AA+EpB,eAAeA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}